<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZeroSend ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹ç¯‰æ‰‹é †æ›¸ â€” Phase 2 ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ç”»é¢</title>
<style>
:root {
  --indigo: #4338CA;
  --indigo-l: #EEF2FF;
  --violet: #7c3aed;
  --emerald: #059669;
  --bg: #F8FAFC;
  --card: #FFFFFF;
  --border: #E2E8F0;
  --text: #1E293B;
  --muted: #64748B;
  --navy: #1E1B4B;
  --code-bg: #0F172A;
  --code-text: #E2E8F0;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.wrap{max-width:960px;margin:0 auto;padding:32px 24px}
.cover{background:var(--navy);color:white;border-radius:20px;padding:40px 48px;margin-bottom:40px;position:relative;overflow:hidden}
.cover::after{content:'';position:absolute;right:-60px;top:-60px;width:300px;height:300px;border-radius:50%;background:rgba(99,102,241,0.15)}
.cover h1{font-size:32px;font-weight:900;line-height:1.2;position:relative}
.cover .en{color:#a5b4fc;font-size:12px;margin-top:8px;position:relative}
.vbadge{background:#4338ca;color:#c7d2fe;font-size:11px;font-weight:700;padding:3px 10px;border-radius:20px;margin-right:8px;border:1px solid #4f46e5}
.part-badge{background:rgba(99,102,241,0.3);color:#c7d2fe;font-size:11px;padding:3px 10px;border-radius:20px;border:1px solid rgba(99,102,241,0.5)}
.cg{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:24px;position:relative}
.ci{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);border-radius:10px;padding:12px 14px}
.ci .l{font-size:10px;color:#94a3b8;text-transform:uppercase;letter-spacing:.05em;margin-bottom:4px}
.ci .v{font-size:13px;font-weight:700;color:#e2e8f0}
.nav{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px 24px;margin-bottom:36px}
.nt{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);margin-bottom:14px}
.nav-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.nav-item{font-size:12px;color:#475569}
.nav-item a{color:var(--indigo);font-weight:600;text-decoration:none}
.nav-item a:hover{text-decoration:underline}
h1.s{font-size:20px;font-weight:800;color:var(--text);margin:40px 0 16px;padding-bottom:8px;border-bottom:2px solid var(--border)}
h2.s{font-size:14px;font-weight:700;color:var(--text);margin:20px 0 10px}
.step{display:flex;gap:16px;background:linear-gradient(135deg,#eff6ff,#f5f3ff);border:1px solid #c7d2fe;border-radius:14px;padding:16px 20px;margin-bottom:12px}
.step.todo{border-color:#c7d2fe}
.step.ok{border-color:#a7f3d0;background:linear-gradient(135deg,#f0fdf4,#ecfdf5)}
.sn{flex-shrink:0}
.sl{font-size:9px;font-weight:700;color:#6366f1;letter-spacing:.1em;text-transform:uppercase}
.sv{font-size:28px;font-weight:900;color:#4338ca;line-height:1}
.st{font-size:14px;font-weight:700;color:#1e293b;margin-bottom:4px}
.ss{font-size:12px;color:#64748b}
.clbl{font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:6px;background:var(--code-bg);border-radius:8px 8px 0 0;padding:6px 14px}
pre{background:var(--code-bg);color:var(--code-text);padding:16px 18px;border-radius:0 0 10px 10px;font-size:12.5px;line-height:1.7;overflow-x:auto;margin-bottom:20px}
.result{background:#0d2137;border:1px solid #1e4060;border-radius:10px;padding:14px 18px;font-size:12px;font-family:monospace;color:#94d3f5;margin-bottom:16px}
.ok-r{color:#4ade80}
.warn-r{color:#fbbf24}
.err-r{color:#f87171}
.box{border-radius:12px;padding:14px 18px;margin-bottom:16px;font-size:13px}
.box.ok{background:#f0fdf4;border:1px solid #a7f3d0}
.box.ok .bt{color:#065f46;font-weight:700;margin-bottom:6px}
.box.warn{background:#fffbeb;border:1px solid #fde68a}
.box.warn .bt{color:#92400e;font-weight:700;margin-bottom:6px}
.box.err{background:#fef2f2;border:1px solid #fecaca}
.box.err .bt{color:#991b1b;font-weight:700;margin-bottom:6px}
.tag-f{display:inline-block;background:var(--indigo-l);color:var(--indigo);font-size:10px;font-weight:700;padding:1px 7px;border-radius:10px;margin-left:6px;border:1px solid #C7D2FE}
.tag-star{display:inline-block;background:#fef3c7;color:#b45309;font-size:10px;font-weight:700;padding:1px 7px;border-radius:10px;margin-left:4px;border:1px solid #fde68a}
.security-critical{background:linear-gradient(135deg,#1a0533,#2d1454);border:2px solid #9333ea;border-radius:12px;padding:20px 24px;margin:16px 0}
.security-critical .sc-title{color:#e879f9;font-weight:800;font-size:14px;margin-bottom:12px}
.security-critical ul{color:#d8b4fe;font-size:13px;padding-left:20px}
.security-critical li{margin:6px 0;line-height:1.6}
.security-critical strong{color:#f0abfc}
.file-card{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;margin-bottom:8px;overflow:hidden}
.fc-head{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:#f1f5f9;border-bottom:1px solid #e2e8f0}
.fc-path{font-family:monospace;font-size:12px;font-weight:700;color:#334155}
.fc-badge{font-size:10px;font-weight:700;padding:2px 8px;border-radius:10px}
.fc-badge.new{background:#064E3B;color:#6EE7B7}
.fc-badge.upd{background:#1E3A5F;color:#93C5FD}
.fc-body{padding:10px 16px;font-size:12px;color:#475569;line-height:1.6}
hr.pb{border:none;border-top:2px dashed var(--border);margin:44px 0}
.cm{color:#4ade80}
.str{color:#fbbf24}
.kw{color:#93c5fd}
.ok-code{color:#86efac}
table{width:100%;border-collapse:collapse;margin:12px 0}
th,td{padding:8px 12px;text-align:left;font-size:12px;border-bottom:1px solid #e2e8f0}
th{background:#f8fafc;font-weight:700;color:#334155}
.path-col{font-family:monospace;font-weight:600}
</style>
</head>
<body>
<div class="wrap">

<!-- COVER -->
<div class="cover">
  <div>
    <span class="vbadge">v3.0</span>
    <span class="part-badge">Phase 2 â€” ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ç”»é¢ F-16ã€œF-26</span>
  </div>
  <h1 style="margin-top:16px">ZeroSend<br>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹ç¯‰æ‰‹é †æ›¸</h1>
  <p class="en">Phase 2 â€” File Send Screen with AES-256-GCM Encryption &amp; ML-KEM-768 Key Encapsulation</p>
  <div class="cg">
    <div class="ci"><div class="l">å‰æ</div><div class="v">Phase 1 å®Œäº†æ¸ˆã¿</div></div>
    <div class="ci"><div class="l">æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«</div><div class="v">8ãƒ•ã‚¡ã‚¤ãƒ«</div></div>
    <div class="ci"><div class="l">æ›´æ–°ãƒ•ã‚¡ã‚¤ãƒ«</div><div class="v">2ãƒ•ã‚¡ã‚¤ãƒ«</div></div>
    <div class="ci"><div class="l">è¿½åŠ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</div><div class="v">react-dropzone / qrcode.react</div></div>
    <div class="ci"><div class="l">æ ¸å¿ƒæ©Ÿèƒ½</div><div class="v">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´æš—å·åŒ–</div></div>
    <div class="ci"><div class="l">æš—å·ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</div><div class="v">Web Crypto API + Kyber768</div></div>
    <div class="ci"><div class="l">API é€£æºæ•°</div><div class="v">4 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</div></div>
    <div class="ci"><div class="l">å®Œäº†ã‚¿ã‚¹ã‚¯</div><div class="v">F-16ã€œF-26 (11ä»¶)</div></div>
  </div>
</div>

<!-- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é … -->
<div class="security-critical">
  <div class="sc-title">ğŸ” Phase 2 æš—å·åŒ–å®Ÿè£…ã®æœ€é‡è¦åŸå‰‡ï¼ˆå¿…èª­ï¼‰</div>
  <ul>
    <li><strong>AES-256-GCM æš—å·åŒ–</strong>ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†… <code>crypto.subtle</code> ã§å®Ÿè¡Œã€‚æš—å·åŒ–å‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«ã‚µãƒ¼ãƒã¸é€ã‚‰ãªã„</li>
    <li><strong>ML-KEM-768 ã‚«ãƒ—ã‚»ãƒ«åŒ–</strong>å¾Œã® K_enc (æš—å·åŒ–æ¸ˆã¿AESéµ) ã®ã¿ã‚’ã‚µãƒ¼ãƒã¸é€ä¿¡ã€‚ç”ŸAESéµã¯ã‚µãƒ¼ãƒã«å±Šã‹ãªã„</li>
    <li><strong>ç”ŸAESéµ (aesKeyRaw)</strong> ã¯ K_enc ç”Ÿæˆå¾Œã€å¤‰æ•°ã‚¹ã‚³ãƒ¼ãƒ—ã‚’å¤–ã‚Œã¦ GC ã«å§”ã­ã‚‹ã€‚IndexedDB ã‚„ localStorage ã«ã¯ä¿å­˜ã—ãªã„</li>
    <li><strong>K_enc ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</strong>: Base64(kyberCipherText[1088B] || XOR(aesKey, sharedSecret)[32B]) â† å—ä¿¡è€…ã ã‘ãŒå¾©å·å¯èƒ½</li>
  </ul>
</div>

<!-- ç›®æ¬¡ -->
<div class="nav">
  <div class="nt">ğŸ“‹ ã“ã®æ‰‹é †æ›¸ã®å¯¾è±¡ã‚¿ã‚¹ã‚¯ï¼ˆF-16ã€œF-26ï¼‰</div>
  <div class="nav-grid">
    <div class="nav-item"><a href="#step1">STEP 1</a> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ </div>
    <div class="nav-item"><a href="#step2">STEP 2</a> types/api.ts æ›´æ–°</div>
    <div class="nav-item"><a href="#step3">STEP 3</a> transferStore.ts æ›´æ–°</div>
    <div class="nav-item"><a href="#step4">STEP 4</a> cryptoService.ts æ–°è¦ (F-22,23)</div>
    <div class="nav-item"><a href="#step5">STEP 5</a> transferService.ts æ–°è¦ (F-24,26)</div>
    <div class="nav-item"><a href="#step6">STEP 6</a> StepIndicator.tsx (F-16)</div>
    <div class="nav-item"><a href="#step7">STEP 7</a> DropZone.tsx (F-17)</div>
    <div class="nav-item"><a href="#step8">STEP 8</a> RecipientInput.tsx (F-18)</div>
    <div class="nav-item"><a href="#step9">STEP 9</a> CloudStorageSelector.tsx (F-19)</div>
    <div class="nav-item"><a href="#step10">STEP 10</a> SecurityPanel.tsx (F-20,21)</div>
    <div class="nav-item"><a href="#step11">STEP 11</a> ProgressView.tsx (F-25)</div>
    <div class="nav-item"><a href="#step12">STEP 12</a> SuccessView.tsx (F-26)</div>
    <div class="nav-item"><a href="#step13">STEP 13</a> SendPage.tsx å…¨ä½“çµ±åˆ</div>
    <div class="nav-item"><a href="#step14">STEP 14</a> å‹ãƒã‚§ãƒƒã‚¯ãƒ»å‹•ä½œç¢ºèª</div>
    <div class="nav-item"><a href="#step15">STEP 15</a> Git ã‚³ãƒŸãƒƒãƒˆ</div>
  </div>
</div>

<!-- ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ -->
<h1 class="s" id="files">Phase 2 ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§</h1>
<table>
  <tr><th>é…ç½®å…ˆãƒ‘ã‚¹</th><th>å¯¾å¿œã‚¿ã‚¹ã‚¯</th><th>å½¹å‰²</th><th>ç¨®åˆ¥</th></tr>
  <tr><td class="path-col">frontend/src/lib/cryptoService.ts</td><td><span class="tag-f">F-22</span><span class="tag-f">F-23</span></td><td>AES-256-GCM æš—å·åŒ–ãƒ»ML-KEM-768 ã‚«ãƒ—ã‚»ãƒ«åŒ–</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/services/transferService.ts</td><td><span class="tag-f">F-24</span><span class="tag-f">F-26</span></td><td>è»¢é€ API é€£æºï¼ˆ4ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/StepIndicator.tsx</td><td><span class="tag-f">F-16</span></td><td>3ã‚¹ãƒ†ãƒƒãƒ—é€²æ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/DropZone.tsx</td><td><span class="tag-f">F-17</span></td><td>ãƒ‰ãƒ©ãƒƒã‚°&amp;ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ (react-dropzone)</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/RecipientInput.tsx</td><td><span class="tag-f">F-18</span></td><td>å—ä¿¡è€…ãƒ¡ãƒ¼ãƒ«å…¥åŠ› + Kyberéµãƒãƒƒã‚¸</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/CloudStorageSelector.tsx</td><td><span class="tag-f">F-19</span></td><td>ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é¸æŠ UI</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/SecurityPanel.tsx</td><td><span class="tag-f">F-20</span><span class="tag-f">F-21</span></td><td>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãƒ‘ãƒãƒ« + åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/ProgressView.tsx</td><td><span class="tag-f">F-25</span></td><td>é€ä¿¡é€²æ—ãƒãƒ¼ &amp; ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/components/send/SuccessView.tsx</td><td><span class="tag-f">F-26</span></td><td>é€ä¿¡å®Œäº†ç”»é¢ï¼ˆãƒ¯ãƒ³ã‚¿ã‚¤ãƒ URL + QRï¼‰</td><td>ğŸ†• æ–°è¦</td></tr>
  <tr><td class="path-col">frontend/src/pages/SendPage.tsx</td><td>å…¨F-16ã€œ26</td><td>é€ä¿¡ãƒšãƒ¼ã‚¸å…¨ä½“çµ±åˆ</td><td>ğŸ”„ æ›´æ–°</td></tr>
  <tr><td class="path-col">frontend/src/types/api.ts</td><td>F-24</td><td>InitiateTransferRequest/Response å‹è¿½åŠ </td><td>ğŸ”„ æ›´æ–°</td></tr>
  <tr><td class="path-col">frontend/src/stores/transferStore.ts</td><td>F-24,26</td><td>reset ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ </td><td>ğŸ”„ æ›´æ–°</td></tr>
</table>

<hr class="pb">

<!-- STEP 1 -->
<h1 class="s" id="step1">STEP 1 â€” æ–°è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">1</div></div>
  <div class="sb">
    <div class="st">react-dropzone ã¨ qrcode.react ã‚’è¿½åŠ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</div>
    <div class="ss">Phase 1 ã¾ã§æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€‚Phase 2 ã§åˆã‚ã¦ä½¿ç”¨ã™ã‚‹ã€‚</div>
  </div>
</div>
<div class="clbl">ã‚¿ãƒ¼ãƒŸãƒŠãƒ« â€” zerosend/frontend ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§å®Ÿè¡Œ</div>
<pre>
cd ~/projects/zerosend/frontend
<span class="cm"># react-dropzone: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ (F-17)</span>
<span class="cm"># qrcode.react:   QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ (F-26)</span>
pnpm add react-dropzone qrcode.react
</pre>
<div class="result"><span class="ok-r">âœ… æˆåŠŸæ™‚ã®å‡ºåŠ›ä¾‹:</span>
Packages: +3
+++
Progress: resolved 3, reused 0, downloaded 3, added 3, done

dependencies:
+ react-dropzone 14.x.x
+ qrcode.react 4.x.x</div>

<div class="clbl">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª</div>
<pre>
pnpm list react-dropzone qrcode.react
</pre>

<div class="box ok"><div class="bt">âœ… STEP 1 å®Œäº†ç¢ºèª</div><p>react-dropzone ã¨ qrcode.react ã®ä¸¡æ–¹ãŒãƒªã‚¹ãƒˆã«è¡¨ç¤ºã•ã‚Œã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 2 -->
<h1 class="s" id="step2">STEP 2 â€” src/types/api.ts ã«å‹ã‚’è¿½åŠ ã™ã‚‹ <span class="tag-f">F-24</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">2</div></div>
  <div class="sb">
    <div class="st">æ—¢å­˜ã® api.ts ã« InitiateTransfer ã®å‹ã‚’è¿½è¨˜ã™ã‚‹ï¼ˆæœªå®šç¾©ã®å ´åˆã®ã¿ï¼‰</div>
    <div class="ss">æ—¢ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—å¯ã€‚å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã—ã¦ã‹ã‚‰è¿½åŠ ã™ã‚‹ã€‚</div>
  </div>
</div>

<div class="clbl">å­˜åœ¨ãƒã‚§ãƒƒã‚¯</div>
<pre>
grep -n "InitiateTransferRequest" src/types/api.ts
<span class="cm"># å‡ºåŠ›ãŒã‚ã‚Œã°ã‚¹ã‚­ãƒƒãƒ—ã€‚ä½•ã‚‚å‡ºãªã‘ã‚Œã°ä¸‹è¨˜ã‚’è¿½è¨˜ã™ã‚‹ã€‚</span>
</pre>

<div class="clbl">src/types/api.ts ã®æœ«å°¾ã«è¿½è¨˜ï¼ˆæœªå®šç¾©ã®å ´åˆã®ã¿ï¼‰</div>
<pre>
cat >> src/types/api.ts << 'EOF'

// â”€â”€â”€ è»¢é€é–‹å§‹ API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/** POST /api/v1/transfer/initiate ãƒªã‚¯ã‚¨ã‚¹ãƒˆ */
export interface InitiateTransferRequest {
  recipient_email:    string
  cloud_type:         'box' | 'gdrive' | 'onedrive' | 'dropbox'
  file_size_bytes:    number
  file_hash_sha3:     string
  expires_in_seconds: number
  max_downloads:      number
}

/** POST /api/v1/transfer/initiate ãƒ¬ã‚¹ãƒãƒ³ã‚¹ */
export interface InitiateTransferResponse {
  session_id:               string
  url_token:                string
  upload_url:               string
  recipient_public_key_b64: string
  expires_at:               string
}
EOF
</pre>

<div class="box ok"><div class="bt">âœ… STEP 2 å®Œäº†ç¢ºèª</div>
<p><code>grep "InitiateTransferRequest" src/types/api.ts</code> ã§å®šç¾©ãŒè¦‹ãˆã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 3 -->
<h1 class="s" id="step3">STEP 3 â€” src/stores/transferStore.ts ã« reset ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ  <span class="tag-f">F-26</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">3</div></div>
  <div class="sb">
    <div class="st">transferStore.ts ã« reset() ã‚’è¿½åŠ ã™ã‚‹ï¼ˆãªã„å ´åˆã®ã¿ï¼‰</div>
    <div class="ss">SendPage ã®ã€Œåˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€ã‚‹ã€ãƒœã‚¿ãƒ³ã§å…¨çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ãŸã‚ã«å¿…è¦ã€‚</div>
  </div>
</div>

<div class="clbl">å­˜åœ¨ãƒã‚§ãƒƒã‚¯</div>
<pre>
grep -n "reset" src/stores/transferStore.ts
<span class="cm"># å‡ºåŠ›ãŒã‚ã‚Œã°ã‚¹ã‚­ãƒƒãƒ—</span>
</pre>

<p>æœªå®šç¾©ã®å ´åˆã€<code>src/stores/transferStore.ts</code> ã® <strong>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</strong> ã¨ <strong>å®Ÿè£…</strong> ä¸¡æ–¹ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>

<div class="clbl">TransferState ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¸ã®è¿½åŠ ï¼ˆ// Actions ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ï¼‰</div>
<pre>
<span class="cm">// // Actions ã®ãƒ–ãƒ­ãƒƒã‚¯å†…ã«ä»¥ä¸‹ã‚’è¿½è¨˜:</span>
reset: () => void
</pre>

<div class="clbl">create() å®Ÿè£…å†…ã«è¿½åŠ </div>
<pre>
reset: () => set({
  step: 'file',
  file: null,
  fileHashSha3: null,
  recipientEmail: '',
  recipientPublicKeyB64: null,
  hasKyberKey: false,
  cloudProvider: 'box',
  expiresInSeconds: 86400,
  maxDownloads: 1,
  twofaType: 'totp',
  sessionId: null,
  shareUrl: null,
  urlToken: null,
  uploadProgress: null,
  error: null,
}),
</pre>

<div class="box ok"><div class="bt">âœ… STEP 3 å®Œäº†ç¢ºèª</div>
<p><code>grep -n "reset" src/stores/transferStore.ts</code> ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨å®Ÿè£…ã®ä¸¡æ–¹ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 4 -->
<h1 class="s" id="step4">STEP 4 â€” src/lib/cryptoService.ts æ–°è¦ä½œæˆ <span class="tag-f">F-22</span><span class="tag-f">F-23</span><span class="tag-star">â­æ ¸å¿ƒ</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">4</div></div>
  <div class="sb">
    <div class="st">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´æš—å·åŒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã™ã‚‹ï¼ˆPhase 2 ã®æœ€é‡è¦å®Ÿè£…ï¼‰</div>
    <div class="ss">AES-256-GCM ãƒ•ã‚¡ã‚¤ãƒ«æš—å·åŒ– + ML-KEM-768 AESéµã‚«ãƒ—ã‚»ãƒ«åŒ–</div>
  </div>
</div>
<div class="file-card">
  <div class="fc-head">
    <span class="fc-path">frontend/src/lib/cryptoService.ts</span>
    <span class="fc-badge new">ğŸ†• æ–°è¦ä½œæˆ</span>
  </div>
  <div class="fc-body">
    <p>F-22: Web Crypto API (crypto.subtle) ã«ã‚ˆã‚‹ AES-256-GCM ãƒ•ã‚¡ã‚¤ãƒ«æš—å·åŒ–</p>
    <p>F-23: @noble/post-quantum ml_kem768.encapsulate() ã«ã‚ˆã‚‹AESéµã‚«ãƒ—ã‚»ãƒ«åŒ–</p>
    <p>K_enc ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: Base64(kyberCT[1088B] || XOR(aesKey,sharedSecret)[32B])</p>
  </div>
</div>
<p>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ <code>frontend/src/lib/cryptoService.ts</code> ã¨ã—ã¦é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>

<div class="box ok"><div class="bt">âœ… STEP 4 å®Œäº†ç¢ºèª</div>
<p><code>ls src/lib/cryptoService.ts</code> ã§ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 5 -->
<h1 class="s" id="step5">STEP 5 â€” src/services/transferService.ts æ–°è¦ä½œæˆ <span class="tag-f">F-24</span><span class="tag-f">F-26</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">5</div></div>
  <div class="sb">
    <div class="st">è»¢é€ API é€£æºã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã™ã‚‹</div>
    <div class="ss">initiate â†’ upload â†’ storeKey â†’ finalizeUrl ã®4ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼</div>
  </div>
</div>
<div class="file-card">
  <div class="fc-head">
    <span class="fc-path">frontend/src/services/transferService.ts</span>
    <span class="fc-badge new">ğŸ†• æ–°è¦ä½œæˆ</span>
  </div>
  <div class="fc-body">
    <p>checkRecipientKey: GET /transfer/recipient-key?email= (å—ä¿¡è€…å…¬é–‹éµç¢ºèª)</p>
    <p>initiateTransfer:  POST /transfer/initiate (ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹)</p>
    <p>uploadEncryptedFile: PUT {signedUrl} (XHR + onUploadProgress)</p>
    <p>storeEncryptedKey: POST /transfer/:id/key (K_enc ä¿å­˜)</p>
    <p>finalizeTransferUrl: POST /transfer/:id/url (URLç¢ºå®šãƒ»ãƒ¡ãƒ¼ãƒ«é€ä¿¡)</p>
    <p>executeSendFlow: ä¸Šè¨˜4ã‚¹ãƒ†ãƒƒãƒ—ã‚’çµ±åˆå®Ÿè¡Œã™ã‚‹é«˜ãƒ¬ãƒ™ãƒ«é–¢æ•°</p>
  </div>
</div>
<p>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ <code>frontend/src/services/</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>

<div class="clbl">services ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ</div>
<pre>
mkdir -p src/services
</pre>

<div class="box ok"><div class="bt">âœ… STEP 5 å®Œäº†ç¢ºèª</div>
<p><code>ls src/services/transferService.ts</code> ã§ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 6ã€œ12: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ -->
<h1 class="s" id="step6">STEP 6ã€œ12 â€” components/send/ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ã®ä½œæˆ <span class="tag-f">F-16ã€œF-21</span><span class="tag-f">F-25</span><span class="tag-f">F-26</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">6-12</div></div>
  <div class="sb">
    <div class="st">send/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€7ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹</div>
    <div class="ss">å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ SendPage.tsx ã‹ã‚‰ import ã—ã¦ä½¿ç”¨ã™ã‚‹</div>
  </div>
</div>

<div class="clbl">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ</div>
<pre>
mkdir -p src/components/send
</pre>

<p>ä»¥ä¸‹ã®7ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ <code>frontend/src/components/send/</code> ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>

<table>
  <tr><th>ãƒ•ã‚¡ã‚¤ãƒ«å</th><th>ã‚¿ã‚¹ã‚¯</th><th>èª¬æ˜</th></tr>
  <tr><td class="path-col">StepIndicator.tsx</td><td><span class="tag-f">F-16</span></td><td>â‘ ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠâ†’â‘¡å—ä¿¡è€…è¨­å®šâ†’â‘¢é€ä¿¡ç¢ºèª ã®ã‚¹ãƒ†ãƒƒãƒ—è¡¨ç¤º</td></tr>
  <tr><td class="path-col">DropZone.tsx</td><td><span class="tag-f">F-17</span></td><td>react-dropzoneä½¿ç”¨ã€‚æœ€å¤§1GBã€‚é¸æŠå¾Œã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤ºã€‚æš—å·åŒ–ãƒãƒƒã‚¸</td></tr>
  <tr><td class="path-col">RecipientInput.tsx</td><td><span class="tag-f">F-18</span></td><td>ãƒ¡ãƒ¼ãƒ«å…¥åŠ›â†’APIç…§ä¼šâ†’ã€ŒğŸ”‘ Kyberéµã‚ã‚Šã€ãƒãƒƒã‚¸ã€‚ã‚¿ã‚°å½¢å¼UI</td></tr>
  <tr><td class="path-col">CloudStorageSelector.tsx</td><td><span class="tag-f">F-19</span></td><td>Box / Google Drive / OneDrive / Dropbox ã‚°ãƒªãƒƒãƒ‰é¸æŠ</td></tr>
  <tr><td class="path-col">SecurityPanel.tsx</td><td><span class="tag-f">F-20</span><span class="tag-f">F-21</span></td><td>æœ‰åŠ¹æœŸé™ãƒ»DLå›æ•°ãƒ»FIDO2ãƒˆã‚°ãƒ«ãƒ»åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒˆã‚°ãƒ«ã€‚å¸¸æ™‚ONè¡¨ç¤º</td></tr>
  <tr><td class="path-col">ProgressView.tsx</td><td><span class="tag-f">F-25</span></td><td>æš—å·åŒ–ä¸­ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é€²æ—ãƒãƒ¼ã€‚ã‚¹ãƒ†ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ</td></tr>
  <tr><td class="path-col">SuccessView.tsx</td><td><span class="tag-f">F-26</span></td><td>ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ URL + QRã‚³ãƒ¼ãƒ‰(qrcode.react)ã€‚ã‚³ãƒ”ãƒ¼ãƒ»æœ‰åŠ¹æœŸé™ãƒ»ã‚¼ãƒ­ä¿æŒæ³¨è¨˜</td></tr>
</table>

<div class="clbl">é…ç½®ç¢ºèªã‚³ãƒãƒ³ãƒ‰</div>
<pre>
ls src/components/send/
<span class="cm"># æœŸå¾…å€¤:</span>
<span class="ok-code">CloudStorageSelector.tsx  DropZone.tsx  ProgressView.tsx
RecipientInput.tsx  SecurityPanel.tsx  StepIndicator.tsx  SuccessView.tsx</span>
</pre>

<hr class="pb">

<!-- STEP 13 -->
<h1 class="s" id="step13">STEP 13 â€” src/pages/SendPage.tsx å…¨ä½“çµ±åˆ <span class="tag-f">F-16ã€œF-26</span></h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">13</div></div>
  <div class="sb">
    <div class="st">æ—¢å­˜ã® SendPage.tsx ã‚’ãƒ•ãƒ«å®Ÿè£…ç‰ˆã«ç½®ãæ›ãˆã‚‹</div>
    <div class="ss">å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã‚’çµ±åˆã™ã‚‹ Phase 2 ã®ãƒ¡ã‚¤ãƒ³ç”»é¢</div>
  </div>
</div>
<div class="file-card">
  <div class="fc-head">
    <span class="fc-path">frontend/src/pages/SendPage.tsx</span>
    <span class="fc-badge upd">ğŸ”„ æ›´æ–° (æ—¢å­˜ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’ç½®ãæ›ãˆ)</span>
  </div>
  <div class="fc-body">
    <p>3ã‚¹ãƒ†ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«â†’å—ä¿¡è€…â†’ç¢ºèªï¼‰+ é€ä¿¡ä¸­é€²æ— + é€ä¿¡å®Œäº† ã‚’ä¸€ç”»é¢ã§ç®¡ç†</p>
    <p>å·¦ãƒ‘ãƒãƒ«: StepIndicator + Step ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ / å³ãƒ‘ãƒãƒ«: SecurityPanel (å¸¸æ™‚è¡¨ç¤º)</p>
    <p>handleSend(): æš—å·åŒ–(F-22) â†’ ã‚«ãƒ—ã‚»ãƒ«åŒ–(F-23) â†’ API ãƒ•ãƒ­ãƒ¼(F-24) ã‚’é †ã«å®Ÿè¡Œ</p>
  </div>
</div>
<p>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã§ <strong>æ—¢å­˜ã®</strong> <code>frontend/src/pages/SendPage.tsx</code> ã‚’ä¸Šæ›¸ãã—ã¦ãã ã•ã„ã€‚</p>

<div class="box ok"><div class="bt">âœ… STEP 13 å®Œäº†ç¢ºèª</div>
<p><code>grep "executeSendFlow" src/pages/SendPage.tsx</code> ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¡ŒãŒè¦‹ãˆã‚Œã° OKã€‚</p></div>

<hr class="pb">

<!-- STEP 14 -->
<h1 class="s" id="step14">STEP 14 â€” å‹ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ“ãƒ«ãƒ‰ãƒ»å‹•ä½œç¢ºèª</h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">14</div></div>
  <div class="sb">
    <div class="st">TypeScript å‹ãƒã‚§ãƒƒã‚¯ â†’ ãƒ“ãƒ«ãƒ‰ â†’ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• â†’ ç”»é¢ç¢ºèª</div>
    <div class="ss">ã‚¨ãƒ©ãƒ¼ã‚¼ãƒ­ã‚’ç¢ºèªã—ã¦ã‹ã‚‰å‹•ä½œãƒ†ã‚¹ãƒˆã¸é€²ã‚€</div>
  </div>
</div>

<h2 class="s">14.1 TypeScript å‹ãƒã‚§ãƒƒã‚¯</h2>
<div class="clbl">å‹ãƒã‚§ãƒƒã‚¯</div>
<pre>
pnpm type-check
<span class="cm"># ã¾ãŸã¯: npx tsc --noEmit</span>
</pre>
<div class="result"><span class="ok-r"># ã‚¨ãƒ©ãƒ¼ã‚¼ãƒ­ã§ã‚ã‚Œã° OKï¼ˆä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„ï¼‰</span></div>

<div class="box warn">
  <div class="bt">âš ï¸ ã‚ˆãã‚ã‚‹å‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•</div>
  <p><strong>ã€ŒModule not found: react-dropzoneã€</strong> â†’ STEP 1 ã® pnpm add ãŒæœªå®Œäº†ã€‚å†å®Ÿè¡Œã™ã‚‹ã€‚</p>
  <p><strong>ã€ŒModule not found: qrcode.reactã€</strong> â†’ åŒä¸Šã€‚<code>pnpm add qrcode.react</code> ã‚’å†å®Ÿè¡Œã€‚</p>
  <p><strong>ã€ŒInitiateTransferRequest not foundã€</strong> â†’ STEP 2 ã®å‹è¿½åŠ ãŒæœªå®Œäº†ã€‚api.ts ã‚’ç¢ºèªã™ã‚‹ã€‚</p>
  <p><strong>ã€ŒProperty 'reset' does not exist on typeã€</strong> â†’ STEP 3 ã® transferStore æ›´æ–°ãŒæœªå®Œäº†ã€‚</p>
  <p><strong>ã€ŒModule not found: @noble/hashes/sha3ã€</strong> â†’ <code>pnpm add @noble/hashes</code> ã‚’å®Ÿè¡Œï¼ˆé€šå¸¸ã¯ transitive dep ã¨ã—ã¦å­˜åœ¨ã™ã‚‹ã¯ãšï¼‰ã€‚</p>
</div>

<h2 class="s">14.2 é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•</h2>
<div class="clbl">Docker ç’°å¢ƒã®å ´åˆ (zs-fe ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä½¿ç”¨)</div>
<pre>
zs-fe
<span class="cm"># ã¾ãŸã¯: cd ~/projects/zerosend/frontend && pnpm dev</span>
</pre>

<h2 class="s">14.3 å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h2>
<div class="clbl">ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5173 ã‚’é–‹ã„ã¦ä»¥ä¸‹ã‚’ç¢ºèª</div>
<pre>
â–¡ 1. / ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ SendPage ãŒè¡¨ç¤ºã•ã‚Œã‚‹
â–¡ 2. ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ (1â†’2â†’3) ãŒè¡¨ç¤ºã•ã‚Œã‚‹
â–¡ 3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠã§ãã‚‹
â–¡ 4. 1GB è¶…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
â–¡ 5. ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠå¾Œã€Œå—ä¿¡è€…ã‚’è¨­å®šã™ã‚‹ã€ãƒœã‚¿ãƒ³ãŒæœ‰åŠ¹ã«ãªã‚‹
â–¡ 6. STEP 2 ã§å—ä¿¡è€…ãƒ¡ãƒ¼ãƒ«ã‚’å…¥åŠ› â†’ Enter ã§ç¢ºå®š â†’ API ç…§ä¼šã•ã‚Œã‚‹
â–¡ 7. ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ã‚°ãƒªãƒƒãƒ‰ã‹ã‚‰é¸æŠã§ãã‚‹
â–¡ 8. å³ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãŒæ“ä½œã§ãã‚‹
â–¡ 9. STEP 3 ã§ã‚µãƒãƒªãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
â–¡ 10. ã€Œå®‰å…¨ã«é€ä¿¡ã™ã‚‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ Progress ç”»é¢ã«é·ç§»ã™ã‚‹
</pre>

<div class="box warn">
  <div class="bt">âš ï¸ é–‹ç™ºç’°å¢ƒã§ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã¤ã„ã¦</div>
  <p>é–‹ç™ºç’°å¢ƒã§ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (Box/GDrive ç­‰) ãŒæœªæ¥ç¶šã®ãŸã‚ã€ç½²åä»˜ãURLã¸ã® PUT ã¯ CORS ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚<code>transferService.ts</code> ã¯ã“ã‚Œã‚’æ¤œçŸ¥ã—ã¦ <code>mock-file-{uuid}</code> ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ ID ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚</p>
  <p>ãã®ãŸã‚é€ä¿¡ãƒ•ãƒ­ãƒ¼ã¯æœ€å¾Œã¾ã§å®Ÿè¡Œã•ã‚Œã€MailHog (<code>http://localhost:8025</code>) ã§ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
</div>

<div class="clbl">ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã® API ãƒ†ã‚¹ãƒˆ (curl)</div>
<pre>
<span class="cm"># å—ä¿¡è€…å…¬é–‹éµç¢ºèª API ãƒ†ã‚¹ãƒˆ</span>
curl -H "Authorization: Bearer YOUR_JWT" \
  "http://localhost:8000/api/v1/transfer/recipient-key?email=test@example.com"

<span class="cm"># æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (æœªç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼):</span>
<span class="ok-code">{"email":"test@example.com","hasKyberKey":false}</span>

<span class="cm"># æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (ç™»éŒ²æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼):</span>
<span class="ok-code">{"email":"test@example.com","hasKyberKey":true,"publicKeyKyberB64":"..."}</span>
</pre>

<div class="box ok"><div class="bt">âœ… STEP 14 å®Œäº†ç¢ºèª</div>
<p>å‹ãƒã‚§ãƒƒã‚¯ãŒã‚¼ãƒ­ã‚¨ãƒ©ãƒ¼ + ç”»é¢ã§ã‚¹ãƒ†ãƒƒãƒ—é·ç§»ã§ãã‚Œã° Phase 2 ã¯å®Œäº†ã§ã™ã€‚</p></div>

<hr class="pb">

<!-- STEP 15 -->
<h1 class="s" id="step15">STEP 15 â€” Git ã‚³ãƒŸãƒƒãƒˆ &amp; ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒŠãƒ¬ãƒƒã‚¸æ›´æ–°</h1>
<div class="step todo">
  <div class="sn"><div class="sl">STEP</div><div class="sv">15</div></div>
  <div class="sb">
    <div class="st">å…¨å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ GitHub ã¸ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹</div>
    <div class="ss">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒŠãƒ¬ãƒƒã‚¸ã¸ã®å…±æœ‰ã‚‚ã“ã®æ™‚ç‚¹ã§å®Œäº†ã™ã‚‹</div>
  </div>
</div>
<div class="clbl">zerosend ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œ</div>
<pre>
cd ~/projects/zerosend

<span class="cm"># ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª</span>
git status

<span class="cm"># ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°</span>
git add frontend/src/lib/cryptoService.ts
git add frontend/src/services/transferService.ts
git add frontend/src/components/send/
git add frontend/src/pages/SendPage.tsx
git add frontend/src/types/api.ts
git add frontend/src/stores/transferStore.ts
git add frontend/package.json
git add frontend/pnpm-lock.yaml

<span class="cm"># ã‚³ãƒŸãƒƒãƒˆ</span>
git commit -m "feat(frontend): Phase 2 ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ç”»é¢å®Ÿè£… (F-16ã€œF-26)

- F-16: StepIndicator (3ã‚¹ãƒ†ãƒƒãƒ—é€²æ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼)
- F-17: DropZone (react-dropzone, max 1GB ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³)
- F-18: RecipientInput (å—ä¿¡è€…ãƒ¡ãƒ¼ãƒ« + Kyberéµãƒãƒƒã‚¸)
- F-19: CloudStorageSelector (Box/GDrive/OneDrive/Dropbox)
- F-20: SecurityPanel (æœ‰åŠ¹æœŸé™/DLå›æ•°/FIDO2/å¸¸æ™‚ONãƒãƒƒã‚¸)
- F-21: åˆ†å‰²ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒˆã‚°ãƒ« (SecurityPanelå†…)
- F-22: cryptoService.ts AES-256-GCM ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´æš—å·åŒ–
- F-23: ML-KEM-768 AESéµã‚«ãƒ—ã‚»ãƒ«åŒ– (Kyber768.encapsulate)
- F-24: transferService.ts é€ä¿¡APIãƒ•ãƒ­ãƒ¼ (initiate/upload/storeKey/finalize)
- F-25: ProgressView (æš—å·åŒ–ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²æ—ãƒãƒ¼)
- F-26: SuccessView (ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ URL + QRã‚³ãƒ¼ãƒ‰)"

<span class="cm"># ãƒ—ãƒƒã‚·ãƒ¥</span>
git push origin main
</pre>

<div class="box ok"><div class="bt">âœ… STEP 15 å®Œäº†ç¢ºèª</div>
<p><code>git log --oneline -1</code> ã§ã‚³ãƒŸãƒƒãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚Œã°å…¨å·¥ç¨‹å®Œäº†ã§ã™ã€‚</p></div>

<!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
<div style="background:var(--navy);color:#fff;border-radius:12px;padding:28px 32px;margin-top:40px;text-align:center">
  <div style="font-size:20px;font-weight:800;margin-bottom:8px">Phase 2 ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ç”»é¢ å®Œäº† ğŸ‰</div>
  <div style="font-size:13px;color:#a5b4fc;margin-bottom:6px">æ¬¡ã¯ <strong>Phase 3ï¼šé€ä¿¡å±¥æ­´ç”»é¢ (F-27ã€œF-32)</strong> ã«é€²ã‚“ã§ãã ã•ã„</div>
  <div style="font-size:12px;color:#64748B">ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ / ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ / ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ / ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒãƒ¼ / å¼·åˆ¶å‰Šé™¤</div>
</div>

</div>
</body>
</html>
